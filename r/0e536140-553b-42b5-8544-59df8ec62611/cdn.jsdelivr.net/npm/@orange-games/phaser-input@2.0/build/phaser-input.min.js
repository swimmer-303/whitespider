/*!
 * Phaser Input Extension - version 2.0.5
 * Adds input boxes to Phaser, compatible with Canvas, WebGL, and Mobile.
 *
 * OrangeGames
 * Built at 02-06-2017
 * Released under MIT License
 */

// Input Box Types
var InputType = {
  TEXT: 0,
  PASSWORD: 1,
  NUMBER: 2,
};

// Force Case Options
var ForceCase = {
  NONE: 0,
  LOWER: 1,
  UPPER: 2,
};

// Input Box Class
var InputBox = function (game, config) {
  this.game = game;
  this.config = config;

  this.createInputElement();
  this.createSelectionHighlight();
  this.createTextMask();

  this.setTexture(this.generateTexture());
  this.addChild(this.textMask);

  this.placeHolder = null;
  this.cursor = null;
  this.text = null;
  this.offscreenText = null;

  this.updateTextAlignment();
  this.inputEnabled = true;
  this.input.useHandCursor = true;

  this.focus = false;
  this.value = "";
  this.windowScale = 1;
  this.blockInput = false;

  this.initInputField();
};

// Other Classes and Functions

// ... (code for other classes and functions remains the same)

// Initialize Input Field
InputBox.prototype.initInputField = function () {
  this.game.input.onDown.add(this.checkDown, this);
  this.focusIn.add(this.startFocus, this);
  this.focusOut.add(this.endFocus, this);

  this.keyUpProcessor();
};

// Check if pointer is over the input box
InputBox.prototype.checkDown = function (pointer) {
  if (this.value || this.resetText()) {
    if (this.input.checkPointerOver(pointer)) {
      if (this.focus) return;
      this.startFocus();
    } else {
      this.focus === true && this.endFocus();
    }
  }
};

// Generate texture for the input box
InputBox.prototype.generateTexture = function () {
  // ... (same code as in the original implementation)
};

// Create input element
InputBox.prototype.createInputElement = function () {
  // ... (same code as in the original implementation)
};

// Create selection highlight
InputBox.prototype.createSelectionHighlight = function () {
  // ... (same code as in the original implementation)
};

// Create text mask
InputBox.prototype.createTextMask = function () {
  // ... (same code as in the original implementation)
};

// Set texture for the input box
InputBox.prototype.setTexture = function (texture) {
  // ... (same code as in the original implementation)
};

// Update text alignment
InputBox.prototype.updateTextAlignment = function () {
  // ... (same code as in the original implementation)
};

// Reset text
InputBox.prototype.resetText = function () {
  // ... (same code as in the original implementation)
};

// Set formatted text
InputBox.prototype.setText = function (text) {
  // ... (same code as in the original implementation)
};

// Get formatted text
InputBox.prototype.getFormattedText = function (text) {
  // ... (same code as in the original implementation)
};

// Destroy input box
InputBox.prototype.destroy = function (fromScene) {
  // ... (same code as in the original implementation)
};

// Update input box
InputBox.prototype.update = function () {
  // ... (same code as in the original implementation)
};

